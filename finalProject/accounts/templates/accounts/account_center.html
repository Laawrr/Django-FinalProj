<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Account Center - MessageHub</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/lucide-static@0.321.0/font/lucide.min.css" rel="stylesheet" />
</head>

<body class="flex flex-col min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
  <!-- Navbar -->
  <nav class="bg-white bg-opacity-90 backdrop-filter backdrop-blur-lg shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 items-center">
        <!-- Logo -->
        <a href="/" class="flex items-center space-x-2">
          <svg class="h-8 w-8 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M8 10h.01M12 10h.01M16 10h.01M9 16h6m-7.62-3.78a4.992 4.992 0 011.025-5.528 4.992 4.992 0 015.156-1.089m.244 1.162a5.007 5.007 0 014.931 5.394 5.007 5.007 0 01-5.394 4.931" />
          </svg>
          <span class="text-xl font-bold text-gray-900">MessageHub</span>
        </a>

        <!-- Logout Button -->
        <a href="{% url 'logout' %}"
          class="flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none">
          <i class="lucide-log-out h-4 w-4"></i>
          <span>Logout</span>
        </a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex-grow flex items-center justify-center p-4">
    <div class="bg-white shadow-md rounded-lg w-full max-w-md">
      <div class="px-6 py-8">
        <h1 class="text-2xl font-bold text-center mb-6">Account Center</h1>
        <form id="accountForm" method="POST" action="{% url 'edit-user' %}" class="space-y-4">
          {% csrf_token %}
          <div class="space-y-2">
            <label for="first_name" class="block text-sm font-medium text-gray-700">First Name</label>
            <input id="first_name" name="first_name" type="text"
              class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              value="{{ user.first_name }}" disabled />
          </div>
          <div class="space-y-2">
            <label for="last_name" class="block text-sm font-medium text-gray-700">Last Name</label>
            <input id="last_name" name="last_name" type="text"
              class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              value="{{ user.last_name }}" disabled />
          </div>
          <div class="space-y-2">
            <label for="username" class="block text-sm font-medium text-gray-700">Username</label>
            <input id="username" name="username" type="text"
              class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              value="{{ user.username }}" disabled />
          </div>
          <div class="space-y-2">
            <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
            <input id="email" name="email" type="email"
              class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              value="{{ user.email }}" disabled />
          </div>

          {% for message in messages %}
          <p id="messages">{{message}}</p>
          {% endfor %}

          <div class="pt-4 space-y-2">
            <input id="editButton" type="button" value="Edit Account"
              class="w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            </input>
            <input id="saveButton" type="submit" value="Save Changes"
              class="w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 hidden">
            </input>
            <input id="cancelButton" type="button" value="Cancel"
              class="w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-gray-500 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 hidden">
            </input>
            <input id="deleteButton" type="button" value="Delete Account"
              class="w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
            </input>
          </div>
        </form>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-50 border-t">
    <div class="container mx-auto py-8 px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="mb-4 md:mb-0">
          <p class="text-sm text-gray-500">
            &copy; 2024 MessageHub. All rights reserved.
          </p>
        </div>
        <div class="flex space-x-6">
          <a href="#" class="text-gray-400 hover:text-gray-500">
            <span class="sr-only">Facebook</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd"
                d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
                clip-rule="evenodd" />
            </svg>
          </a>
          <a href="#" class="text-gray-400 hover:text-gray-500">
            <span class="sr-only">Twitter</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd"
                d="M23 3a10.83 10.83 0 01-3.142.862A4.88 4.88 0 0022.462 1a10.92 10.92 0 01-3.484 1.335A4.825 4.825 0 0016.618 0c-2.848 0-5.15 2.345-5.15 5.244 0 .414.033.81.097 1.19-4.28-.216-8.072-2.28-10.61-5.405A5.206 5.206 0 001.316 4.7C1.035 5.497 1 6.34 1.29 7.118A5.16 5.16 0 001.322 8c0 .038.004.075.006.112.84-.138 1.63-.478 2.31-.968-.973-.01-1.953-.707-2.461-1.464.13 1.034.691 1.92 1.511 2.432-.423-.013-.84-.132-1.201-.326.059.548.21.983.647 1.225 1.546 1.36 3.4 2.163 5.39 2.163 6.457 0 10.51-5.402 10.51-10.093 0-.153-.003-.307-.01-.46A7.47 7.47 0 0023 3z"
                clip-rule="evenodd" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // JavaScript to toggle form fields and buttons
    document.getElementById('editButton').addEventListener('click', function () {
      // Enable form fields
      const inputs = document.querySelectorAll('input');
      inputs.forEach(input => input.disabled = false);

      // Show the "Save Changes" and "Cancel" buttons, hide "Edit Account"
      document.getElementById('saveButton').classList.remove('hidden');
      document.getElementById('cancelButton').classList.remove('hidden');
      document.getElementById('editButton').classList.add('hidden');
    });

    document.getElementById('cancelButton').addEventListener('click', function () {
      // Reset form fields to initial values (or reload the page)
      document.getElementById('accountForm').reset();

      // Hide the "Save Changes" and "Cancel" buttons, show "Edit Account"
      document.getElementById('saveButton').classList.add('hidden');
      document.getElementById('cancelButton').classList.add('hidden');
      document.getElementById('editButton').classList.remove('hidden');
    });
  </script>
</body>

</html>